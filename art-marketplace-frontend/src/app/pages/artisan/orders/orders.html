<div class="container">
  <h2>Commandes reçues</h2>
  <p *ngIf="loading">Chargement…</p>
  <p *ngIf="!loading && error">{{ error }}</p>
  <p *ngIf="!loading && !error && orders.length === 0">Aucune commande.</p>

  <div class="list" *ngIf="!loading && !error && orders.length">
    <mat-card *ngFor="let o of orders" class="item">
      <mat-card-title>#{{ o.id }} — {{ o.status }}</mat-card-title>
      <mat-card-content>
        <p>Produit: {{ o.productId }}</p>
        <p>Client: {{ o.clientId }}</p>
        <p>Date: {{ o.orderDate | date:'short' }}</p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="setStatus(o,'InProduction')">En prod</button>
        <button mat-button (click)="setStatus(o,'Shipped')">Expédiée</button>
        <button mat-button (click)="setStatus(o,'Delivered')">Livrée</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
